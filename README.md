![Yaneogal_main](https://user-images.githubusercontent.com/105188620/181587809-cb324016-bc39-4ae0-ba8b-5f3aa99072fc.jpeg)

## ğŸ” í”„ë¡œì íŠ¸ ì†Œê°œ 
<p>'ì•¼, ë„ˆë„ ê°ˆë˜?' ëŠ” ë‚´ê°€ ì¸ìƒ ê¹Šì—ˆë˜ ì—¬í–‰ì½”ìŠ¤, 
ì¼ìƒì—ì„œ ë‚¨ë“¤ì—ê²Œ ì¶”ì²œí•˜ê³  ì‹¶ì—ˆë˜ ì¥ì†Œë¥¼ ê³µìœ í•  ìˆ˜ ìˆë„ë¡ ê¸°íší•œ ì„œë¹„ìŠ¤ ì…ë‹ˆë‹¤.</p>
<p>ì•¼ë„ˆê°ˆì„ í†µí•´ ë‚´ê°€ ê´€ì‹¬ìˆëŠ” ì§€ì—­ì´ë‚˜ í…Œë§ˆë¥¼ ì„¤ì •í•˜ê³  ì§„ì§œ ì •ë³´ë¥¼ ê²½í—˜í•˜ì„¸ìš”.</p> 
<br/>

## âœ ì„œë¹„ìŠ¤ ê¸°íš
- â€œì•¼ ë„ˆë„ ê°ˆë˜?â€ëŠ” ê²½í—˜ìë“¤ì˜ ì—¬í–‰ ì½”ìŠ¤ì™€ ì •ë³´ë¥¼ ê³µìœ í•˜ëŠ” ì„œë¹„ìŠ¤
- **íƒ€ê²Ÿì¸µ**
    - ì—¬í–‰ ê³„íšì„ ì„¸ìš°ê¸°ì— ì‹œê°„ì  ì—¬ìœ ê°€ ì—†ëŠ” ì‚¬ëŒë“¤
    - ì—¬í–‰ ê³„íšì„ ì„¸ìš°ê¸° ê·€ì°®ì€ ì‚¬ëŒë“¤
    - ë‹¤ë¥¸ ì‚¬ëŒë“¤ì˜ ì—¬í–‰ ê³„íšì„ ë³´ê³  ì‹¶ì€ ì‚¬ëŒë“¤
    - ì—¬í–‰ ê³„íšì„ ì–´ë–»ê²Œ ì„¸ì›Œì•¼í• ì§€ ëª¨ë¥´ëŠ” ì‚¬ëŒ
    - ë‚´ì£¼ë³€ ë§›ì§‘ì´ë‚˜ ë‚´ê°€ ëª¨ë¥´ëŠ” íŠ¹ë³„í•œ ì¥ì†Œ ì°¾ì•„ë³´ê¸°
    
         
- ë‚˜ë§Œì˜ í•«í”Œë ˆì´ìŠ¤ ì €ì¥í•˜ê³  ê³µìœ 
<br/>

## ğŸ’» ê¸°ìˆ  ìŠ¤íƒ
FrontEnd
<div align='center'>
    <img src="https://img.shields.io/badge/html-E34F26?style=for-the-badge&logo=html5&logoColor=white">
    <img src="https://img.shields.io/badge/css-1572B6?style=for-the-badge&logo=css3&logoColor=white">
    <img src="https://img.shields.io/badge/sass-CC6699?style=for-the-badge&logo=sass&logoColor=white">
    <img src="https://img.shields.io/badge/javascript-F7DF1E?style=for-the-badge&logo=javascript&logoColor=black">
    <img src="https://img.shields.io/badge/react-61DAFB?style=for-the-badge&logo=react&logoColor=black">
    <img src="https://img.shields.io/badge/redux-764ABC?style=for-the-badge&logo=redux&logoColor=black">
    <br/>
    <img src="https://img.shields.io/badge/figma-F24E1E?style=for-the-badge&logo=figma&logoColor=black">
    <img src="https://img.shields.io/badge/aws-232F3E?style=for-the-badge&logo=aws&logoColor=black">
    <img src="https://img.shields.io/badge/github-white?style=for-the-badge&logo=github&logoColor=black">
    <img src="https://img.shields.io/badge/github%20actions-0769AD?style=for-the-badge&logo=github%20actions&logoColor=white">
</div>
    <br/>    <br/>    <br/>

BackEnd
<div align='center' >
    <img src="https://img.shields.io/badge/java-007396?style=for-the-badge&logo=java&logoColor=white">
    <img src="https://img.shields.io/badge/spring-6DB33F?style=for-the-badge&logo=spring&logoColor=white">
    <img src="https://img.shields.io/badge/springboot-6DB33F?style=for-the-badge&logo=springboot&logoColor=black">
    <img src="https://img.shields.io/badge/gradle-02303A?style=for-the-badge&logo=gradle&logoColor=black">
    <img src="https://img.shields.io/badge/mysql-4479A1?style=for-the-badge&logo=mysql&logoColor=black">
    <br/>
    <img src="https://img.shields.io/badge/amazon%20aws-f7f7f7?style=for-the-badge&logo=amazon%20aws&logoColor=f89400">
    <img src="https://img.shields.io/badge/CodeDepoly-1F497D?style=for-the-badge&logo=CodeDepoly&logoColor=white">
    <img src="https://img.shields.io/badge/EC2-782A90?style=for-the-badge&logo=EC2&logoColor=white">
    <img src="https://img.shields.io/badge/S3-FC5230?style=for-the-badge&logo=S3&logoColor=white">
    <img src="https://img.shields.io/badge/lambda-EAEAEA?style=for-the-badge&logo=lambda&logoColor=black">
    <img src="https://img.shields.io/badge/Querydsl-FF9900?style=for-the-badge&logo=Querydsl&logoColor=white">
    <img src="https://img.shields.io/badge/github-181717?style=for-the-badge&logo=github&logoColor=white">
    <img src="https://img.shields.io/badge/github%20actions-0769AD?style=for-the-badge&logo=github%20actions&logoColor=white">
</div>
<br/><br/>

## ğŸ“š ë¼ì´ë¸ŒëŸ¬ë¦¬ êµ¬ì„±
SpringBoot-'2.7.1'<br/>
SpringBoot-Starter-Data-JPA<br/>
SpringBoot-Starter-Oauth2.0<br/>
SpringBoot-Starter-Security<br/>
SpringBoot-Starter-Validation<br/>
SpringBoot-Starter-Web<br/>
Spring-Cloud-Starter AWS-'2.2.6'<br/>
Apache-Httpcomponents-Httpclient-'4.5.13'<br/>
QueryDsl-'1.0.10'<br/>
Lombok<br/>
Json Web Token-'0.9.1'<br/>
<br/><br/>




## ğŸ“– ì•„í‚¤í…ì²˜ 
![yaneogalì•„í‚¤í…ì³ drawio (1)](https://user-images.githubusercontent.com/105032621/183236885-f16f7162-412e-49f5-b832-75eb0e67db1f.png)
<br/>

## ğŸ“ƒ ERD
![ì•¼ë„ˆë„ê°ˆë˜ERD](https://user-images.githubusercontent.com/105188620/181571360-7046077c-10ef-4d94-a744-8a2cc319a293.png)
<br/>

## ğŸ”¥ íŠ¸ëŸ¬ë¸”ìŠˆíŒ…

- ## BE

    <details>
    <summary>ì›ë³¸ ì´ë¯¸ì§€ë¥¼ ê·¸ëŒ€ë¡œ ì‚¬ìš©í•˜ì—¬ ì„±ëŠ¥ ì €í•˜</summary>

    <br/>

    <img width="452" alt="BE_íŠ¸ëŸ¬ë¸”ìŠˆíŒ…1" src="https://user-images.githubusercontent.com/105188620/183325600-71ddb2ca-7ee7-49bb-b16d-e6811928027c.png">
    <img width="467" alt="íŠ¸ëŸ¬ë¸”ìŠˆíŒ…2" src="https://user-images.githubusercontent.com/105188620/183326058-9e066047-17dd-4f44-b2d2-e2a7af87f53e.png">
    </details>

    <details>
    <summary>CI/CD ë¹Œë“œì™€ ë°°í¬ ì™„ë£Œ í›„ ì ìš©ë˜ì§€ ì•ŠëŠ” ë¬¸ì œ</summary>

    <br/>

    <img width="444" alt="íŠ¸ëŸ¬ë¸”ìŠˆíŒ…3" src="https://user-images.githubusercontent.com/105188620/183325991-2df8ce72-40d0-411d-99e3-52b5d667cd43.png">
    <img width="435" alt="íŠ¸ëŸ¬ë¸”ìŠˆíŒ…4" src="https://user-images.githubusercontent.com/105188620/183326109-f201c32c-ee89-45ea-b14d-eea9bf307e45.png">
    <img width="402" alt="íŠ¸ëŸ¬ë¸”ìŠˆíŒ…5" src="https://user-images.githubusercontent.com/105188620/183326139-5f8f2009-ae0e-4659-a36d-2f95601ab5ef.png">
    </details>
    
    <details>
    <summary>JWT ì˜ˆì™¸ì²˜ë¦¬</summary>
    
    <br/>
    
    ## 1ï¸âƒ£ë¬¸ì œìƒí™©

    : ë°œê¸‰í•´ì¤€ jwtí† í°ì´ ë§Œë£Œì‹œ ì´ë¥¼ ì²´í¬í•˜ê¸° ìœ„í•œ ì˜ˆì™¸ì²˜ë¦¬ê°€ ë“¤ì–´ìˆì§€ ì•Šì•„ì„œ ì‚¬ìš©í•˜ëŠ” ìœ ì €ê°€ ì„œë¹„ìŠ¤ ì´ìš©ì— ë¶ˆí¸ì´ ìƒê²¨ í† í°ì´ ë§Œë£Œë˜ì—ˆì„ë•Œì˜ ì²˜ë¦¬ë¥¼ ì¶”ê°€í•´ì¤„ í•„ìš”ê°€ ìˆì—ˆë‹¤. 

    ## 2ï¸âƒ£ë¬¸ì œì›ì¸

    ì‹œíë¦¬í‹°ì—ì„œ ë°œìƒí•˜ëŠ” ì˜ˆì™¸ëŠ” DispatcherServletì—ë„ ì „ë‹¬ë˜ì§€ ì•Šê¸°ë•Œë¬¸ì— ë”°ë¡œ ì˜ˆì™¸í•¸ë“¤ëŸ¬ë¥¼ ì„¤ì •í•´ì¤˜ì•¼í–ˆë‹¤. ë˜í•œ í˜„ì¬ ì½”ë“œì—ëŠ” Exceptionì„ ë˜ì§€ê¸°ë§Œ í•  ë¿ ë”°ë¡œ ì²˜ë¦¬ê³¼ì •ì´ ë“¤ì–´ìˆì§€ ì•Šì•„ ìˆëŠ”ê²ƒì´ ì›ì¸ì´ì˜€ë‹¤. ì´ë¥¼ Filterë‹¨ì—ì„œ ì˜ˆì™¸ì²˜ë¦¬ë¥¼ í•´ì¤˜ì•¼í•œë‹¤.

    ## 3ï¸âƒ£í•´ê²°ê³¼ì •

    **Filter**ë‹¨ì—ì„œ ì˜ˆì™¸ë¥¼ ì²˜ë¦¬í•˜ëŠ” **AuthenticationEntryPoint** ì‘ì„±

    ```java
    @Slf4j
    @Component
    public class CustomAuthenticationEntryPoint implements AuthenticationEntryPoint {
        @Override
        public void commence(HttpServletRequest request, HttpServletResponse response, AuthenticationException authException) throws IOException {
            String exception = (String) request.getAttribute("exception");
            if(exception.equals(ErrorCode.EXPIRED_TOKEN.getMessage())){
                setResponse(response,ErrorCode.EXPIRED_TOKEN);
            }
        }
        //í•œê¸€ ì¶œë ¥ì„ ìœ„í•´ getWriter() ì‚¬ìš©
        private void setResponse(HttpServletResponse response, ErrorCode exceptionCode) throws IOException {
            response.setContentType("application/json;charset=UTF-8");
            response.setStatus(HttpServletResponse.SC_UNAUTHORIZED);
            JSONObject responseJson = new JSONObject();
            responseJson.put("message", exceptionCode.getMessage());
            responseJson.put("code", exceptionCode.getHttpStatus().value());
            response.getWriter().print(responseJson);
        }
    }
    ```

    ```java
    @Component
    @RequiredArgsConstructor
    public class JwtAuthFilter extends OncePerRequestFilter {
        private final JwtProvider provider;
        @Override
        public void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain chain) throws IOException, ServletException {
            // í—¤ë”ì—ì„œ JWT ë¥¼ ë°›ì•„ì˜µë‹ˆë‹¤.
            String token = provider.resolveToken((HttpServletRequest) request);
            // ìœ íš¨í•œ í† í°ì¸ì§€ í™•ì¸í•©ë‹ˆë‹¤.
            try {
                if (StringUtils.hasText(token) && provider.validateToken(token)) {
                    // í† í°ì´ ìœ íš¨í•˜ë©´ í† í°ìœ¼ë¡œë¶€í„° ìœ ì € ì •ë³´ë¥¼ ë°›ì•„ì˜µë‹ˆë‹¤.
                    Authentication authentication = provider.getAuthentication(token);
                    // SecurityContext ì— Authentication ê°ì²´ë¥¼ ì €ì¥í•©ë‹ˆë‹¤.
                    SecurityContextHolder.getContext().setAuthentication(authentication);
                }
            }
            catch(ExpiredJwtException e){
                request.setAttribute("exception", ErrorCode.EXPIRED_TOKEN.getMessage());
                System.out.println("request.getAttribute(\"exception\") = " + request.getAttribute("exception"));
            }

            chain.doFilter(request, response);
        }
    }
    ```

    ìœ„ì˜ ì½”ë“œì—ì„œ í† í°ì„ providerì˜ validateTokenì—ì„œ ê²€ì‚¬í•˜ì—¬ ë¬¸ì œê°€ ìˆë‹¤ë©´ ì˜ˆì™¸ê°€ ë°œìƒí•˜ëŠ”ë° ì´ë•Œë°œìƒí•˜ëŠ” ì˜ˆì™¸ì— ëŒ€í•˜ì—¬ request ì˜ ì†ì„±ì— "exception" ê°’ìœ¼ë¡œ ë„£ì–´ì¤€ë‹¤.
    ì˜ëª»ëœ í† í°, í† í° ë§Œë£Œ, ì§€ì›ë˜ì§€ì•ŠëŠ” í† í° ë“±ì— ëŒ€í•œ ì²˜ë¦¬ë¥¼ í•´ì¤ë‹ˆë‹¤.

    requestì— "exception" ì†ì„±ì˜ ê°’ì„ ë„£ì–´ì¤€ ë’¤ ì‹¤ì œ AuthenticationEntryPointì—ì„œ responseì— ê²°ê³¼ë¥¼ ë‹´ì•„ ìš”ì²­ìì—ê²Œ ëŒë ¤ì¤ë‹ˆë‹¤.

    ```java
    .and()
                    .exceptionHandling()
                    .authenticationEntryPoint(new CustomAuthenticationEntryPoint())
    ```

    ì‘ì„±í•œ CustomAuthenticationEntryPointë¥¼ ìŠ¤í”„ë§ ì‹œíë¦¬í‹°ì˜ ì„¤ì •ì— ë“±ë¡í•´ì£¼ë©´ ë©ë‹ˆë‹¤.
    
    
    </details>

<br/>


## ğŸ¤™ğŸ» íŒ€ì›
|ì´ë¦„|í¬ì§€ì…˜|ê¹ƒí—ˆë¸Œ|
|------|---|---|
|ğŸ”¹ë…¸í¥ì§„|BE|https://github.com/goodtonoh|
|ğŸ”¹ê¹€ìˆ˜ì •|FE|https://github.com/soojeongkimkr|
|ì´ì¤€í˜¸|BE|https://github.com/Mohorang|
|ì´í˜¸ì§„|BE|https://github.com/HoJinnn|
|í™ìˆ˜ë¯¼|FE|https://github.com/hongsoom|
|ì´ì°¬ìœ¨|ë””ìì´ë„ˆ||

## ğŸ¥ ì‚¬ì´íŠ¸ ë°ëª¨

<!-- <details> -->
<summary>ë°ëª¨ì˜ìƒ</summary>
  
|íšŒì›ê°€ì…|ë¡œê·¸ì¸|ë§ˆì´í˜ì´ì§€| 
|:---:|:---:|:---:| 
|<img src="https://velog.velcdn.com/images/hongsoom/post/cbb7a088-439f-472d-b1d1-7b4f4fccff0c/image.gif" />|<img src="https://velog.velcdn.com/images/hongsoom/post/6fb8813a-a5f8-4ddc-88d5-2d40ab79898b/image.gif"/>|<img src="https://velog.velcdn.com/images/hongsoom/post/96baf7ad-1a81-41e4-ad4f-363b8bce81b4/image.gif" />|
|ë©”ì¸í˜ì´ì§€|ìƒì„¸í˜ì´ì§€|
|<img src="https://velog.velcdn.com/images/hongsoom/post/4cd61f5b-b3bf-4c87-8b68-88c7aac36432/image.gif" />|<img src="https://velog.velcdn.com/images/hongsoom/post/cbbefcaf-8a21-4417-b47a-d776e97c74bd/image.gif" />|
|ê²Œì‹œê¸€ì‘ì„±|ê²Œì‹œê¸€ ìˆ˜ì •,ì‚­ì œ|ëŒ“ê¸€|
|<img src="https://velog.velcdn.com/images/hongsoom/post/152c55c0-7e27-4ce1-9e75-16ddb5cc1632/image.gif" />|<img src="https://velog.velcdn.com/images/hongsoom/post/b41390f1-fb4e-4e96-968e-6151c7fd879a/image.gif" />|<img src="https://velog.velcdn.com/images/hongsoom/post/fbce1f69-1a65-4b90-b601-9721f6ed32e2/image.gif" />|
|ê²€ìƒ‰|í•„í„°|ì¢‹ì•„ìš”,ë¶ë§ˆí¬,ê³µìœ |
|<img src="https://velog.velcdn.com/images/hongsoom/post/23f9c1aa-d549-4f89-b2f8-64b54d533ef4/image.gif" />|<img src="https://velog.velcdn.com/images/hongsoom/post/3a73dcaa-260a-480e-b851-f5f5b4779573/image.gif" />|<img src="https://velog.velcdn.com/images/hongsoom/post/d7343e7e-837e-4490-9b46-a3a812acf8f2/image.gif" />|
<!-- </details> -->

<br />
